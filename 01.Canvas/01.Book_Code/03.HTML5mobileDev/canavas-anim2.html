<!DOCTYPE html>
<html><head><meta charset="utf-8">
<style>
#a_canvas {
	border:1px solid black;
}
</style></head><body>
<canvas id="a_canvas" width="300" height="300"></canvas>
<script type="text/javascript">
  var canvas = document.getElementById("a_canvas");
  var context = canvas.getContext("2d");
  // 用数组管理圆球
  var ball = [];
  for (var i = 0; i < 10; i++) {
    var o = {};
    o.x = Math.random() * 300;
    o.y = Math.random() * 300;
    o.dir_x = Math.random() * 20 - 10;
    o.dir_y = Math.random() * 20 - 10;
    ball.push(o);
  }
  // 动画
  setInterval(drawBall, 100);
  function drawBall() {
    // 描绘背景
    context.fillStyle = "white";
    context.fillRect(0,0,300,300);
    // 绘制圆球
    for (var i in ball) {
      var o = ball[i];
      context.beginPath();
      context.arc(o.x, o.y, 5, 0, 2*Math.PI,true);
      context.fillStyle = "red";
      context.fill();
      // 移动圆球
      o.x += o.dir_x;
      o.y += o.dir_y;
      if (o.x < 0 || o.x > 300) { o.dir_x *= -1; }
      if (o.y < 0 || o.y > 300) { o.dir_y *= -1; }
    }
  }
</script>
</body></html>
